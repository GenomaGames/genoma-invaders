<!-- start custom article footer snippet -->

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const linkCodeCommentUrls = () => {
      const urlRegExp = /(?:https?:\/\/)?[a-zA-Z1-9]{1}[\-a-zA-Z1-9]{1,61}[a-zA-Z1-9]{1}(?!-)\.[a-zA-Z]{1,20}(?:[\-\/:\w?@%&+~#=.]*){0,1992}/;
      const codeComments = document.querySelectorAll(".layout--article .article__content .highlight .c1");

      codeComments.forEach((codeComment) => {
        const searchResult = urlRegExp.exec(codeComment.innerHTML);

        if (!!searchResult) {
          const aElement = document.createElement("a");

          aElement.setAttribute("href", searchResult[0]);
          aElement.text = searchResult[0];

          codeComment.innerHTML = codeComment.innerHTML.replace(
            urlRegExp,
            aElement.outerHTML
          );
        }
      });
    };

    const targetBlankExternalLinks = () => {
      const linksWithoutTarget = document.querySelectorAll(
        ".layout--article .article__content a[href]:not([target])"
      );
      const isInternalHrefRegExp = new RegExp(
        `(?:${location.host.replace(".", "\\.")})|(?:^\.?\.?\/)`
      );

      linksWithoutTarget.forEach((link) => {
        const href = link.getAttribute("href");
        const isInternalLink = !!href && isInternalHrefRegExp.test(href);

        if (!isInternalLink) {
          link.setAttribute("target", "_blank");
        }
      });
    };

    linkCodeCommentUrls();
    targetBlankExternalLinks();
  });
</script>

<!-- end custom article footer snippet -->
